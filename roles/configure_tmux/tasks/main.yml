---
- hosts: localhost
  become: yes
  vars:
    HOME: "{{ lookup('env', 'HOME') }}"

  tasks:
    - name: Install Tmux
      apt:
        name:
          - tmux
        state: present
      tags:
        - terminal
        - essential

    - name: Install requirements
      apt:
        name:
          - xcopy
        state: present
      tags:
        - tmux
        - terminal

    - name: Remove Default Tmux Configuration Directory
      ansible.builtin.file:
        path: '{{ HOME }}/.tmux'
        state: absent

    - name: Checkout Personal Tmux Configuration From Github
      git:
        repo: git@github.com:edouard-lopez/tmux-config.git
        dest: '{{ HOME }}/.tmux'
        depth: 1
      tags:
        - tmux
        - configuration
